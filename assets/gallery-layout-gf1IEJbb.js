import{_ as v,c as l,f as g,a as y,b as a,g as u,F as f,r as b,u as x,o as r,d as c,t as p}from"./index-BmM5EtBV.js";import{_ as w,a as L}from"./stub_p-Bo05vaQV.js";const k={name:"Gallery-layout",props:{},setup(){return{router:x()}},data(){return{pagination:{page:1,pageNum:10},lang:"en",gallery:[],shown:[],count:0}},computed:{pagedList(){let e=[];for(let t=0;t<this.gallery.length;t+=this.pagination.pageNum)e.push(this.gallery.slice(t,t+this.pagination.pageNum));return console.log(e),e[this.pagination.page-1]}},mounted(){this.hideLoad()},methods:{hideLoad(){console.log("hide"),this.emitter.emit("hide_loading",!0)},toGallery(e){this.router.push("/gallery-detail?id=".concat(e.id))},switchPage(e){console.log(e),this.pagination.page=e,console.log(this.pagination.page)},getGallery(){$.ajax({url:"/".concat(this.lang,"/gallery.json"),success:(function(e){console.log(e);let t=e;t=e.map(s=>({id:s.id,title:s.title,sub:s.sub,date:s.date,artist:s.artist,timeline:s.timeline})),t=t.sort((s,d)=>d.id-s.id),console.log(t),this.gallery=t,this.count=t.length}).bind(this)})},initQuery(){}},created(){this.getGallery()}},N={class:"gallery-layout"},j={class:"main container-fluid text-white p-4"},G={class:"row justify-content-center"},M={class:"col-12 col-md-10 col-lg-8"},H={class:"gallery row row-cols-lg-2 mx-2 mx-lg-0"},P=["onClick"],T={class:"col-10"},B=["innerHTML"],C=["innerHTML"],V={class:"d-md-flex justify-content-between"},z={class:"d-flex justify-content-center pagination"};function D(e,t,s,d,i,o){const _=u("router-view"),h=u("el-pagination");return r(),l("div",N,[g(_),t[1]||(t[1]=y('<div class="banner" data-v-4c4e324d><img class="d-none d-md-block position-relative banner_stub" src="'+w+'" alt="" data-v-4c4e324d><img class="d-block d-md-none position-relative banner_stub_mobile" src="'+L+'" alt="" data-v-4c4e324d><div class="banner_text" data-v-4c4e324d><div data-v-4c4e324d><div class="banner_h1" data-v-4c4e324d><img class="banner_hoshi" src="'+c+'" alt="" data-v-4c4e324d><h1 class="mx-2" data-v-4c4e324d>Gallery</h1><img class="banner_hoshi" src="'+c+'" alt="" data-v-4c4e324d></div><p data-v-4c4e324d>My memory in Yah-Den Mainland!</p></div></div></div>',1)),a("div",j,[a("div",G,[a("div",M,[a("div",H,[(r(!0),l(f,null,b(o.pagedList,(n,m)=>(r(),l("div",{class:"row align-items-center my-2 gallery-item",key:m,onClick:F=>o.toGallery(n)},[t[0]||(t[0]=a("div",{class:"col-1 col-lg-2 flex-shrink-0 d-flex justify-content-center",style:{"min-width":"48px"}},[a("img",{src:c,alt:"",class:"option_hoshi"})],-1)),a("div",T,[a("h4",{class:"m-0 text-nowrap text-truncate",innerHTML:n.title},null,8,B),a("p",{class:"m-0 text-nowrap text-truncate",innerHTML:n.sub},null,8,C),a("div",V,[a("div",null,"Artist: "+p(n.artist),1),a("div",null,p(n.date),1)])])],8,P))),128))])])]),a("div",z,[g(h,{total:i.count,class:"flex-wrap","current-page":i.pagination.page,"page-size":i.pagination.pageNum,background:!0,"onUpdate:currentPage":o.switchPage},null,8,["total","current-page","page-size","onUpdate:currentPage"])])])])}const A=v(k,[["render",D],["__scopeId","data-v-4c4e324d"]]);export{A as default};
